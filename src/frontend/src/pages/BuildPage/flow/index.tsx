import { TabsContext } from "@/contexts/tabsContext";
import { getFlowApi } from "@/controllers/API/flow";
import cloneDeep from "lodash-es/cloneDeep";
import { useContext, useEffect, useMemo } from "react";
import { useParams } from "react-router-dom";
import Panne from "./Panne";
import useFlowStore from "./flowStore";
import { userContext } from "@/contexts/userContext";

const test = {"nodes":[{"id":"start_a030e","type":"flowNode","position":{"x":-1256.7006243933397,"y":224.1154227909051},"data":{"id":"start_a030e","name":"开始","description":"工作流运行的起始节点","type":"start","group_params":[{"name":"开场引导","params":[{"key":"guide_word","label":"开场白","value":"你好，我是毕昇 workflow 内测体验版，目前支持 6 个节点进行任务编排：开始、输入、输出、大模型、RAG、结束（其余节点暂不支持）。\n\n让我们通过拍 sam Altman 彩虹屁来开启内测体验之旅吧","type":"textarea"},{"key":"guide_question","label":"引导问题","value":[""],"type":"input_list","help":"为用户提供推荐问题，引导用户输入，超过3个时将随机选取3个"}]},{"name":"全局变量","params":[{"key":"current_time","global":"key","label":"当前时间","type":"var","value":""},{"key":"chat_history","global":"key","type":"chat_history_num","value":10},{"key":"preset_question","label":"预置问题列表","global":"index","type":"input_list","value":[]}]}]},"selected":false,"positionAbsolute":{"x":411,"y":157},"dragging":false,"measured":{"width":324,"height":599}},{"id":"input_8f3ba","type":"flowNode","position":{"x":651.714642982112,"y":2.0485297782731635},"data":{"id":"input_8f3ba","name":"输入","description":"工作流运行到此结束","type":"input","tab":{"value":"input","options":[{"label":"对话框输入","key":"input"},{"label":"表单输入","key":"form"}]},"group_params":[{"name":"输入","params":[{"key":"user_input","global":"key","label":"用户输入的内容","type":"var","tab":"input"},{"global":"code:value.map(el => ({ label: el.key, value: el.key }))","key":"form_input","label":"+ 添加表单项","type":"form","value":[{"key":"category","type":"select","value":"类别","required":true,"multi":false,"options":[{"id":"5a041ee4","text":"1","type":""},{"id":"94d94f59","text":"2","type":""},{"id":"4c1c8146","text":"3","type":""}]},{"key":"text_input","type":"text","value":"姓名","required":true,"multi":false,"options":[]}],"tab":"form"}]}]},"measured":{"width":324,"height":268},"selected":false,"dragging":false},{"id":"output_58058","type":"flowNode","position":{"x":-646.2224617672917,"y":166.9599710384927},"data":{"id":"output_58058","name":"输出","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"你觉得 Sam Altman 值得拍彩虹屁吗","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"choose","value":""},"options":[{"id":"db066c82","label":"值得","value":""},{"id":"6f7f86cb","label":"不值得","value":""},{"id":"05289333","label":"我不知道","value":""},{"id":"f138d2c3","label":"闲聊（无限聊天模式，建议最后体验）","value":""}]}]}]},"measured":{"width":324,"height":717},"selected":false,"dragging":false},{"id":"output_ddeac","type":"flowNode","position":{"x":227.77445791201478,"y":-89.13389468690075},"data":{"id":"output_ddeac","name":"输出1","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"好的，你想拍他哪方面呢，OpenAI？还是和马斯克的爱恨情仇？","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":465},"selected":false,"dragging":false},{"id":"llm_3c1d9","type":"flowNode","position":{"x":1610.9182544406763,"y":-629.8389075571857},"data":{"id":"llm_3c1d9","name":"大模型","description":"调用大模型回答用户问题或者处理任务","type":"llm","tab":{"value":"single","options":[{"label":"单次运行","key":"single"},{"label":"批量运行","key":"batch"}]},"group_params":[{"params":[{"key":"batch_variable","label":"批处理变量","global":"self","type":"user_question","value":[],"required":true,"linkage":"output","placeholder":"请选择批处理变量","help":"选择需要批处理的变量，将会多次运行本节点，每次运行时从选择的变量中取一项赋值给batch_variable进行处理。","tab":"batch"}]},{"name":"模型设置","params":[{"key":"model_id","label":"模型","type":"bisheng_model","value":58,"required":true},{"key":"temperature","label":"温度","type":"slide","value":0.6}]},{"name":"提示词","params":[{"key":"system_prompt","label":"系统提示词","type":"var_textarea","value":"你是一名擅长幽默搞笑的妙笔生花的文学评论家，请对以下文章提出50 字左右的修改建议指导，使文章更加风趣。\n注意：不是直接给出修改结果，而是给出修改建议。","required":true},{"key":"user_prompt","label":"用户提示词","type":"var_textarea","value":"文章内容：{{#rag_e4299.output_input_8f3ba.user_input#}}。\n修改建议：","required":true,"varZh":{"rag_0be4c.output_input_8f3ba.user_input":"RAG/output_user_input","rag_e4299.output_input_8f3ba.user_input":"RAG/output_user_input"}}]},{"name":"输出","params":[{"key":"output_user","label":"将输出结果展示在会话中","type":"switch","help":"","value":false},{"key":"output","global":"code:value.map(el => ({ label: el.label, value: el.key }))","label":"输出变量","type":"var","value":[]}]}]},"measured":{"width":324,"height":890},"selected":false,"dragging":false},{"id":"output_aa29f","type":"flowNode","position":{"x":2089.828599148091,"y":-451.0021477291829},"data":{"id":"output_aa29f","name":"输出2","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"以下是我对于这篇彩虹屁的润色建议，您可以在其基础上进一步修改，确认后我再进行优化","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"input","value":"{{#llm_3c1d9.output#}}"},"options":[],"varZh":{"llm_3c1d9.output":"大模型/output"}}]}]},"measured":{"width":324,"height":618},"selected":false,"dragging":false},{"id":"llm_3695a","type":"flowNode","position":{"x":2566.5542791217986,"y":-627.7873255906729},"data":{"id":"llm_3695a","name":"大模型1","description":"调用大模型回答用户问题或者处理任务","type":"llm","tab":{"value":"single","options":[{"label":"单次运行","key":"single"},{"label":"批量运行","key":"batch"}]},"group_params":[{"params":[{"key":"batch_variable","label":"批处理变量","global":"self","type":"user_question","value":[],"required":true,"linkage":"output","placeholder":"请选择批处理变量","help":"选择需要批处理的变量，将会多次运行本节点，每次运行时从选择的变量中取一项赋值给batch_variable进行处理。","tab":"batch"}]},{"name":"模型设置","params":[{"key":"model_id","label":"模型","type":"bisheng_model","value":58,"required":true},{"key":"temperature","label":"温度","type":"slide","value":0.6}]},{"name":"提示词","params":[{"key":"system_prompt","label":"系统提示词","type":"var_textarea","value":"你是一名优秀的撰稿人，请根据编辑的审核意见对原文进行修改，返回润色后的结果。","required":true},{"key":"user_prompt","label":"用户提示词","type":"var_textarea","value":"- 原文：\n```{{#rag_e4299.output_input_8f3ba.user_input#}}```\n- 修改建议：\n```{{#output_aa29f.output_way#}}```\n修改后的文章：","required":true,"varZh":{"rag_0be4c.output_input_8f3ba.user_input":"RAG/output_user_input","output_aa29f.output_way":"输出2/output_way","rag_e4299.output_input_8f3ba.user_input":"RAG/output_user_input"}}]},{"name":"输出","params":[{"key":"output_user","label":"将输出结果展示在会话中","type":"switch","help":"","value":true},{"key":"output","global":"code:value.map(el => ({ label: el.label, value: el.key }))","label":"输出变量","type":"var","value":[]}]}]},"measured":{"width":324,"height":890},"selected":false,"dragging":false},{"id":"output_a508e","type":"flowNode","position":{"x":3074.9422422630078,"y":-27.389328075258817},"data":{"id":"output_a508e","name":"输出3","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"本 workflow 分支运行到此结束，接下来让我们体验毕昇workflow 的成环能力，我们将回到最开始的选择题，你可以尝试选择另一个选项","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":481},"selected":false,"dragging":false},{"id":"llm_cc50f","type":"flowNode","position":{"x":558.4649855487039,"y":550.1339395389904},"data":{"id":"llm_cc50f","name":"大模型2","description":"调用大模型回答用户问题或者处理任务","type":"llm","tab":{"value":"single","options":[{"label":"单次运行","key":"single"},{"label":"批量运行","key":"batch"}]},"group_params":[{"params":[{"key":"batch_variable","label":"批处理变量","global":"self","type":"user_question","value":[],"required":true,"linkage":"output","placeholder":"请选择批处理变量","help":"选择需要批处理的变量，将会多次运行本节点，每次运行时从选择的变量中取一项赋值给batch_variable进行处理。","tab":"batch"}]},{"name":"模型设置","params":[{"key":"model_id","label":"模型","type":"bisheng_model","value":58,"required":true},{"key":"temperature","label":"温度","type":"slide","value":0.6}]},{"name":"提示词","params":[{"key":"system_prompt","label":"系统提示词","type":"var_textarea","value":"你是一名擅长阴阳怪气的文学大师，请根据用户需求完成一篇 200 字的文章。","required":true},{"key":"user_prompt","label":"用户提示词","type":"var_textarea","value":"写一篇挖苦 Sam Altman 的文章","required":true}]},{"name":"输出","params":[{"key":"output_user","label":"将输出结果展示在会话中","type":"switch","help":"","value":true},{"key":"output","global":"code:value.map(el => ({ label: el.label, value: el.key }))","label":"输出变量","type":"var","value":[]}]}]},"measured":{"width":324,"height":874},"selected":false,"dragging":false},{"id":"output_cfb3b","type":"flowNode","position":{"x":1229.2273051866277,"y":567.2249405757585},"data":{"id":"output_cfb3b","name":"输出4","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"本 workflow 分支运行到此结束，让我们回到最开始的起点，您可以选择另一个选项进行体验。","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":465},"selected":false,"dragging":false},{"id":"output_7fc98","type":"flowNode","position":{"x":140.89490001326936,"y":1121.1186250165865},"data":{"id":"output_7fc98","name":"输出6","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"我很遗憾，看来你对我并不感兴趣，再见👋🏻","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":465},"selected":false,"dragging":false},{"id":"end_3eda2","type":"flowNode","position":{"x":570,"y":1440},"data":{"id":"end_3eda2","name":"结束","description":"工作流运行到此结束","type":"end","group_params":[]},"measured":{"width":324,"height":133}},{"id":"llm_32ef0","type":"flowNode","position":{"x":966.0583217656841,"y":1557.1325769315374},"data":{"id":"llm_32ef0","name":"大模型3","description":"调用大模型回答用户问题或者处理任务","type":"llm","tab":{"value":"single","options":[{"label":"单次运行","key":"single"},{"label":"批量运行","key":"batch"}]},"group_params":[{"params":[{"key":"batch_variable","label":"批处理变量","global":"self","type":"user_question","value":[],"required":true,"linkage":"output","placeholder":"请选择批处理变量","help":"选择需要批处理的变量，将会多次运行本节点，每次运行时从选择的变量中取一项赋值给batch_variable进行处理。","tab":"batch"}]},{"name":"模型设置","params":[{"key":"model_id","label":"模型","type":"bisheng_model","value":58,"required":true},{"key":"temperature","label":"温度","type":"slide","value":0.6}]},{"name":"提示词","params":[{"key":"system_prompt","label":"系统提示词","type":"var_textarea","value":"你是一个古灵精怪的聊天机器人，擅长提供情绪价值，请针对用户的话语做出合适的回复","required":true},{"key":"user_prompt","label":"用户提示词","type":"var_textarea","value":"{{#input_dec5a.user_input#}}","required":true,"varZh":{"input_dec5a.user_input":"输入1/user_input"}}]},{"name":"输出","params":[{"key":"output_user","label":"将输出结果展示在会话中","type":"switch","help":"","value":true},{"key":"output","global":"code:value.map(el => ({ label: el.label, value: el.key }))","label":"输出变量","type":"var","value":[]}]}]},"measured":{"width":324,"height":874},"selected":false,"dragging":false},{"id":"output_f6a33","type":"flowNode","position":{"x":141.42148284922845,"y":1613.3057883548934},"data":{"id":"output_f6a33","name":"输出7","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"我可以陪你聊天，但由于我的研发爸爸还没有帮我实现聊天记忆功能，所以我不会记得你之前说过什么。\n鱼的记忆有 7 秒，而我的记忆却只有你的一句话，跟我说点什么吧","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":481},"selected":false,"dragging":false},{"id":"input_dec5a","type":"flowNode","position":{"x":549.7781814163795,"y":1741.6599448914053},"data":{"id":"input_dec5a","name":"输入1","description":"工作流运行到此结束","type":"input","tab":{"value":"input","options":[{"label":"对话框输入","key":"input"},{"label":"表单输入","key":"form"}]},"group_params":[{"name":"输入","params":[{"key":"user_input","global":"key","label":"用户输入的内容","type":"var","tab":"input"},{"global":"code:value.map(el => ({ label: el.key, value: el.key }))","key":"form_input","label":"+ 添加表单项","type":"form","value":[],"tab":"form"}]}]},"measured":{"width":324,"height":268},"selected":false,"dragging":false},{"id":"rag_e4299","type":"flowNode","position":{"x":1119.8367691780427,"y":-806.9322908550855},"data":{"id":"rag_e4299","name":"RAG","description":"根据用户问题从知识库中检索相关内容，结合检索结果调用大模型生成最终结果，支持多个问题并行执行。","type":"rag","group_params":[{"name":"知识库检索设置","params":[{"key":"user_question","label":"用户问题","global":"self=user_prompt","type":"user_question","required":true,"help":"","linkage":"output_user_input","value":["input_8f3ba.user_input"],"placeholder":"请选择用户问题","varZh":{"start_a030e.current_time":"开始/current_time","input_8f3ba.user_input":"输入/user_input"}},{"key":"retrieved_result","label":"检索范围","global":"self=user_prompt","type":"knowledge_select_multi","value":{"type":"knowledge","value":[{"key":1215,"label":"Sam Altman 创业手册"}]},"required":true},{"key":"user_auth","label":"用户知识库权限校验","type":"switch","value":false,"help":"开启后，只会对用户有使用权限的知识库进行检索。"},{"key":"max_chunk_size","label":"检索结果长度","type":"number","value":15000}]},{"name":"AI回复生成设置","params":[{"key":"system_prompt","label":"系统提示词","type":"var_textarea","value":"你是一个妙笔生花的文学大师，请根据以下主题写一篇两百字的文章。","required":true},{"key":"user_prompt","label":"用户提示词","type":"var_textarea","value":"- 文章主题：歌颂 Sam Altman 的{{#RAG/rag_e4299.user_question#}}。\n- 参考资料：```{{#rag_e4299.retrieved_result#}}```","required":true,"varZh":{"RAG/rag_e4299.user_question":"RAG/user_question","RAG/rag_e4299.retrieved_result":"RAG/retrieved_result","rag_e4299.user_question":"RAG/user_question","rag_e4299.retrieved_result":"RAG/retrieved_result"}},{"key":"model_id","label":"模型","type":"bisheng_model","value":58,"required":true},{"key":"temperature","label":"温度","type":"slide","value":0.6}]},{"name":"输出","params":[{"key":"output_user","label":"将输出结果展示在会话中","type":"switch","value":true},{"key":"output_user_input","label":"输出变量","type":"var","global":"code:value.map(el => ({ label: el.label, value: el.key }))","value":[{"key":"output_input_8f3ba.user_input","label":"output_user_input"}]}]}]},"measured":{"width":324,"height":1110},"selected":false,"dragging":false},{"id":"output_9be96","type":"flowNode","position":{"x":91.36625734315132,"y":630.6433810079842},"data":{"id":"output_9be96","name":"输出5","description":"可向用户发送消息，并且支持进行更丰富的交互，例如请求用户批准进行某项敏感操作、允许用户在模型输出内容的基础上直接修改并提交","type":"output","group_params":[{"params":[{"key":"output_msg","label":"发送消息内容","type":"var_textarea_file","value":{"msg":"英雄所见略同！那让我来批判一下 Sam 🤔","files":[]}},{"key":"output_way","label":"交互类型","global":"value.type=input","type":"output_form","value":{"type":"","value":""},"options":[]}]}]},"measured":{"width":324,"height":465},"selected":false,"dragging":false}],"edges":[{"source":"start_a030e","sourceHandle":"right_handle","target":"output_58058","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__start_a030eright_handle-output_58058left_handle"},{"source":"output_58058","sourceHandle":"db066c82","target":"output_ddeac","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_58058db066c82-output_ddeacleft_handle"},{"source":"output_ddeac","sourceHandle":"right_handle","target":"input_8f3ba","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_ddeacright_handle-input_8f3baleft_handle"},{"source":"llm_3c1d9","sourceHandle":"right_handle","target":"output_aa29f","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__llm_3c1d9right_handle-output_aa29fleft_handle"},{"source":"output_aa29f","sourceHandle":"right_handle","target":"llm_3695a","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_aa29fright_handle-llm_3695aleft_handle"},{"source":"llm_3695a","sourceHandle":"right_handle","target":"output_a508e","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__llm_3695aright_handle-output_a508eleft_handle"},{"source":"output_a508e","sourceHandle":"right_handle","target":"output_58058","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_a508eright_handle-output_58058left_handle"},{"source":"llm_cc50f","sourceHandle":"right_handle","target":"output_cfb3b","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__llm_cc50fright_handle-output_cfb3bleft_handle"},{"source":"output_cfb3b","sourceHandle":"right_handle","target":"output_58058","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_cfb3bright_handle-output_58058left_handle"},{"source":"output_58058","sourceHandle":"05289333","target":"output_7fc98","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_5805805289333-output_7fc98left_handle"},{"source":"output_7fc98","sourceHandle":"right_handle","target":"end_3eda2","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_7fc98right_handle-end_3eda2left_handle"},{"source":"output_58058","sourceHandle":"f138d2c3","target":"output_f6a33","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_58058f138d2c3-output_f6a33left_handle"},{"source":"output_f6a33","sourceHandle":"right_handle","target":"input_dec5a","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_f6a33right_handle-input_dec5aleft_handle"},{"source":"input_dec5a","sourceHandle":"right_handle","target":"llm_32ef0","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__input_dec5aright_handle-llm_32ef0left_handle"},{"source":"llm_32ef0","sourceHandle":"right_handle","target":"input_dec5a","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__llm_32ef0right_handle-input_dec5aleft_handle"},{"source":"input_8f3ba","sourceHandle":"right_handle","target":"rag_e4299","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__input_8f3baright_handle-rag_e4299left_handle"},{"source":"rag_e4299","sourceHandle":"right_handle","target":"llm_3c1d9","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__rag_e4299right_handle-llm_3c1d9left_handle"},{"source":"output_58058","sourceHandle":"6f7f86cb","target":"output_9be96","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_580586f7f86cb-output_9be96left_handle"},{"source":"output_9be96","sourceHandle":"right_handle","target":"llm_cc50f","targetHandle":"left_handle","type":"customEdge","animated":true,"id":"xy-edge__output_9be96right_handle-llm_cc50fleft_handle"}],"viewport":{"x":186.14897253094978,"y":448.741224331352,"zoom":0.7445194219495764}}
export default function FlowPage() {
    // const { flow, setFlow } = useContext(TabsContext);
    // const { id } = useParams();

    // useEffect(() => {
    //     if (id && flow?.id !== id) {
    //         // 切换技能重新加载flow数据
    //         getFlowApi(id).then(_flow => setFlow('flow_init', _flow))
    //     }
    // }, [])

    // const [copyFlow, preFlow] = useMemo(() => {
    //     if (flow?.id === id) {
    //         const copyFlow = cloneDeep(flow)
    //         return [copyFlow, JSON.stringify(copyFlow?.data || null)] as const
    //     }
    //     return []
    // }, [flow, id])
    const { user } = useContext(userContext);


    const { flow, setFlow } = useFlowStore()

    useEffect(() => {
        const str = localStorage.getItem('flow_tmp')
        let f = str ? JSON.parse(str) : flow
        if ('workflow_test' === user.user_name) {
            f = test
        }
        setFlow(f)
        // return f
    }, [])
    return (
        <div className="flow-page-positioning">
            {flow && <Panne flow={flow} />}
        </div>
    );
}

